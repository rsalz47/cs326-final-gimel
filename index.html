<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Fizzy</title>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/src/frontend/css/nav.css" />
    <script type="module" src="src/frontend/js/dashboard.js"></script>
	</head>
    
	<body>
        <script id="navbar" src="src/frontend/js/nav.js"></script>
        <script type = "text/javascript">insert_nav("src/frontend/");</script>

        <div class="row">
            <link rel="stylesheet" href="src/frontend/css/notes.css">
            
            <script type="module" id="notes_script" src="src/frontend/js/notes.js"></script>


            <div class="col-md-3 solid-black-border-right" id="view1">
                <div class="notes-listing">
                    <ul id='notes'></ul>
                </div>
                <input class="mytext" id="cur_note" placeholder="Type a message!"/>
                <script>
                    /// Register event listener to send the note when the enter key is pressed
                    document.getElementById("cur_note").addEventListener("keydown", event => {
                        if (event.keyCode === 13) {
                            send_note();
                        }
                    });
                </script>
                <input type='button' onClick="send_note()" value="Send">
            </div>

            
            <div class="col-md-6" id="view2">
              <table class="table table-hover">
                  <thead>
                  <tr>
                    <th scope="col">Role</th>
                    <th scope="col">First</th>
                    <th scope="col">Handle</th>
                  </tr>
                </thead>
                <tbody id="user_table">
                </tbody>
              </table> 

              <br>
              <br>

              <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">Project</th>
                    <th scope="col">Fuzzer</th>
                    <th scope="col">Binary abs path</th>
                    <th scope="col">Input Dir</th>
                  </tr>
                </thead>
                <tbody>
                  <td>UMassCTF</td>
                  <td>American Fuzzy Lop</td>
                  <td>dev/null/a.out</td>
                  <td>~/fuzzy_bunny/inputs/</td>
                </tbody>
                <tbody>
                  <td>Illegal Gov Ops</td>
                  <td>sfuzz</td>
                  <td>umass/elnux7/my_first_project</td>
                  <td>umass/fuzzer_inputs/</td>
                </tbody>
              </table>  
            </div>

            <div class="col-md-2" id="view2">
              <table class="table table-hover" id="stat_table">
                <thead>
                  <tr>
                    <th scope="col"></th>
                    <th scope="col"></th>
                  </tr>
                </thead>
              </table>
            </div>
        </div>
        <script type="module">
          import {getAllComments} from "./src/frontend/js/client.js";
          function loadHomepage() {
            document.getElementById("notes").innerHTML = '';
            console.log("fetching all comments")
            getAllComments();
          }
          loadHomepage()
          setInterval(loadHomepage, 1000 * 2)
        </script>
	</body>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

</html>
